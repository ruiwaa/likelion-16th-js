<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <title>DOM ë§ˆìŠ¤í„°: íƒìƒ‰(Traversal)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="ë” íƒìƒ‰" />
    <link rel="stylesheet" href="./assets/styles.css" />
    <script src="./learn.js" defer></script>
  </head>

  <body>
    <a href="#main-content" class="skip-link sr-only focusable"
      >ë³¸ë¬¸ ë°”ë¡œê°€ê¸°</a
    >
    <ul class="menu">
      <li>í™ˆ</li>
      <li>ì„œë¹„ìŠ¤</li>
      <li>í¬íŠ¸í´ë¦¬ì˜¤</li>
      <li class="active">ë¸”ë¡œê·¸</li>
      <li>ì—°ë½ì²˜</li>
    </ul>
    <section class="card">
      <h2 class="card__title">ìƒí’ˆ ì •ë³´</h2>
      <div class="card__desc">
        <p>ì´ ì œí’ˆì€ <b>ë§¤ìš° ìœ ìš©</b>í•©ë‹ˆë‹¤.</p>
        <p>ì´ ì œí’ˆì€ <b>ë¦¬ë¯¸í‹°ë“œ ì—ë””ì…˜</b>í•©ë‹ˆë‹¤.</p>
      </div>
    </section>
    <article class="modal">
      <header class="modal__head">
        <!-- ... -->
      </header>
      <div class="modal__content">
        <!-- ... -->
      </div>
      <footer class="modal__foot">
        <button type="button" class="modal__close">ë‹«ê¸°</button>
      </footer>
    </article>

    <main id="main-content" class="prose">
      <header>
        <h1>DOM íƒìƒ‰ (Traversal)</h1>
        <p>
          ê¸°ì¤€ ìš”ì†Œì—ì„œ <strong>ë¶€ëª¨, ìì‹, í˜•ì œ ìš”ì†Œ</strong>ë¡œ ì§ì ‘ ì´ë™í•˜ì—¬
          ì›í•˜ëŠ” ëŒ€ìƒì„ íš¨ìœ¨ì ìœ¼ë¡œ ì„ íƒí•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.
        </p>
      </header>
      <section data-list-type="ordered-list">
        <h2 class="sr-only">ìˆœì°¨ ëª©ë¡</h2>
        <ol>
          <li><strong>í•˜ë‚˜</strong></li>
          <li><strong>ë‘˜</strong></li>
          <li><strong>ì…‹</strong></li>
          <li><strong>ë„·</strong></li>
          <li><strong>ë‹¤ì„¯</strong></li>
          <li><strong>ì—¬ì„¯</strong></li>
          <li><strong>ì¼ê³±</strong></li>
        </ol>
      </section>

      <section data-target="here" aria-labelledby="traversal-direction">
        <h2 id="traversal-direction">íƒìƒ‰ ë°©í–¥ë³„ ì£¼ìš” ë©”ì„œë“œ</h2>
        <table>
          <caption>
            ë°©í–¥ì— ë”°ë¥¸ DOM íƒìƒ‰ ì†ì„± ë° ë©”ì„œë“œ ìš”ì•½
          </caption>
          <thead>
            <tr>
              <th scope="col">ë°©í–¥</th>
              <th scope="col">ì£¼ìš” ì†ì„± ë° ë©”ì„œë“œ</th>
              <th scope="col">íŠ¹ì§•</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">ì•„ë˜ë¡œ (ìì‹)</th>
              <td><code>children</code>, <code>firstElementChild</code></td>
              <td>ì§ê³„ ìì‹ ìš”ì†Œ íƒìƒ‰</td>
            </tr>
            <tr>
              <th scope="row">ìœ„ë¡œ (ë¶€ëª¨)</th>
              <td><code>parentElement</code>, <code>closest()</code></td>
              <td>ë¶€ëª¨ ë˜ëŠ” ê°€ì¥ ê°€ê¹Œìš´ ì¡°ìƒ íƒìƒ‰</td>
            </tr>
            <tr>
              <th scope="row">ì˜†ìœ¼ë¡œ (í˜•ì œ)</th>
              <td>
                <code>nextElementSibling</code>,
                <code>previousElementSibling</code>
              </td>
              <td>ì´ì „/ë‹¤ìŒ í˜•ì œ ìš”ì†Œ íƒìƒ‰</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section aria-labelledby="defensive-coding">
        <h2 id="defensive-coding">ë°©ì–´ì  í”„ë¡œê·¸ë˜ë°</h2>
        <p>
          íƒìƒ‰ ê²°ê³¼ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° <code>null</code>ì„ ë°˜í™˜í•˜ë¯€ë¡œ, ë°˜ë“œì‹œ
          ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ìŠµê´€ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
        </p>
        <pre><code class="language-javascript">if (element.closest('.container')) { /* ë¡œì§ ì‹¤í–‰ */ }</code></pre>
      </section>

      <aside
        role="note"
        style="
          border-left: 4px solid #007bff;
          padding: 1em;
          background: #f0f7ff;
        "
      >
        <strong>ğŸ’¡ í•µì‹¬ íŒ</strong>
        <ul>
          <li>
            <strong>children</strong>ì€ HTMLCollectionì„ ë°˜í™˜í•˜ë¯€ë¡œ ìˆœíšŒ ì‹œ ë°°ì—´
            ë³€í™˜ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </li>
          <li>
            <strong>item()</strong> ë©”ì„œë“œëŠ” ë²”ìœ„ë¥¼ ë²—ì–´ë‚  ë•Œ
            <code>null</code>ì„ ë°˜í™˜í•˜ì—¬ ì•ˆì „í•œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ë•ìŠµë‹ˆë‹¤.
          </li>
        </ul>
      </aside>
    </main>
    <script>
      const card = document.querySelector(".card");
      const cardChildren = card.children;
      // ì•„ë˜ ë°©í–¥ íƒìƒ‰
      console.log(card.children);
      console.log(card.firstElementChild);
      console.log(card.lastElementChild);
      const cardDesc = card.querySelector(".card__desc");
      console.log(cardDesc);
      const pEls = cardDesc.children;
      console.log(pEls);

      // ìœ„ ë°©í–¥ íƒìƒ‰
      const closeButton = document.querySelector(".modal__close");
      const closeButtonParent = closeButton.parentElement;
      console.log(closeButtonParent);
      console.log(closeButton.closest(".modal__close"));

      // ì˜† ë°©í–¥ íƒìƒ‰
      const activeItem = document.querySelector(".active");
      console.log(activeItem.previousElementSibling);
      //2. `activeItem`ì˜ ë‹¤ìŒ í˜•ì œ ìš”ì†Œë¥¼ ì„ íƒí•´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤.
      console.log(activeItem.nextElementSibling);
      //3. `"ì„œë¹„ìŠ¤"` ì½˜í…ì¸ ë¥¼ í¬í•¨í•˜ëŠ” í˜•ì œ ìš”ì†Œë¥¼ ì„ íƒí•´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤.
      const firstItem = document.querySelector("ul li");
      const itemList = firstItem.parentElement.children;
      console.log(itemList[itemList.length - 4]);
    </script>
  </body>
</html>
