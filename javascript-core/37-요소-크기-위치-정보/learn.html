<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <title>속성 마스터: 요소의 크기와 위치 측정</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="요소의 크기와 위치 측정" />
    <link rel="stylesheet" href="./assets/styles.css" />
    <script src="./learn.js" defer></script>
    <style>
      .box {
        --size: 174px;

        display: grid;
        place-content: center;
        inline-size: var(--size);
        block-size: var(--size);
        margin-block: 24px;
        border: 8px solid currentColor;
        color: #1f1010;
        font-size: 3.2rem;
        font-weight: 800;
      }
      .get-bounding-client-rect {
        cursor: pointer;
        background-color: #1f1010;
        color: #fff;
        border: 0;
        padding: 0.5em 1em;
        border-radius: 3px;
      }

      .box-1 {
	      width: 200px;
	      height: 100px;
        display: grid;
        place-content: center;
	      background-color: #74b9ff;
	      margin: 50px;
	    }
      .measure-button{
        border: 0;
        padding: 0.5em 1em;
        border-radius: 3px;
        border: 2px solid black;

      }
       .info-box {
	      width: 150px;
	      height: 150px;
	      background-color: #55efc4;
	      display: flex;
	      align-items: center;
	      justify-content: center;
	      margin: 100px;
	    }
	
	    .tooltip {
	      margin-top: 1rem;
	      font-size: 14px;
	      color: #2d3436;
	    }


    </style>
  </head>

  <body>
    <a href="#main-content" class="skip-link">본문 바로가기</a>

    
    <main id="main-content" class="prose">
      <button type="button" class="get-bounding-client-rect">
        element.getBoundingClientRect()
      </button>
      <div class="box">Box</div>
      <header>
        <h1>요소의 크기와 위치 측정</h1>
        <p>
          자바스크립트의 <code>getBoundingClientRect()</code> 메서드를 활용하여
          요소의 <strong>뷰포트 기준 위치와 크기</strong>를 계산하는 방법을
          학습합니다.
        </p>
      </header>
      
      <section aria-labelledby="section-method">
        <h2 id="section-method">1. getBoundingClientRect() 메서드</h2>
        <p>
          이 메서드는 엘리먼트의 크기와 뷰포트(현재 보이는 화면)를 기준으로 한
          상대적 위치 정보를 제공합니다.
        </p>
        <pre><code class="language-javascript">const elRect = element.getBoundingClientRect();</code></pre>
      </section>
      
      <section aria-labelledby="section-properties">
        <h2 id="section-properties">2. DOMRect 속성 상세</h2>
        <table>
          <caption>
            DOMRect 객체가 반환하는 주요 속성 목록
          </caption>
          <thead>
            <tr>
              <th scope="col">구분</th>
              <th scope="col">속성</th>
              <th scope="col">설명</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row" rowspan="3">위치</th>
              <td>top / y</td>
              <td>화면 상단에서 요소 상단까지의 거리</td>
            </tr>
            <tr>
              <td>left / x</td>
              <td>화면 좌측에서 요소 좌측까지의 거리</td>
            </tr>
            <tr>
              <td>bottom / right</td>
              <td>상단/좌측 기준 요소의 끝 지점 거리</td>
            </tr>
            <tr>
              <th scope="row">크기</th>
              <td>width / height</td>
              <td>요소의 전체 크기 (Padding, Border 포함)</td>
            </tr>
          </tbody>
        </table>
      </section>
    </main>
    <div class="box-1">BOX-1</div>
    <button type="button" class="measure-button" >위치/크기 확인</button>

     <div class="info-box">마우스를 올려보세요</div>
	  <div class="tooltip" id="position-info">위치 정보 없음</div>

    <script>
      const box_1 = document.querySelector('.box-1')
      const buttonByBox_1 = document.querySelector('.measure-button')
      buttonByBox_1.addEventListener('click', ()=> {
        let rect = box_1.getBoundingClientRect()
        console.log(`너비: ${rect.width}, 높이: ${rect.height}`)
        console.log(`상단 위치: ${rect.top}, 좌측 위치: ${rect.left}`)
      })

      const infoBox = document.querySelector('.info-box')
      const tooltip = document.querySelector('.tooltip')

      infoBox.addEventListener('mouseenter', ()=> {
        let rectSee = infoBox.getBoundingClientRect()
        const x = Math.floor(rectSee.x)
        const y = Math.floor(rectSee.y)

        infoBox.textContent = `X: ${x}px, Y: ${y}px`
        tooltip.textContent = `X: ${x}px, Y: ${y}px`
      })


      
   
    </script>
  </body>
</html>
