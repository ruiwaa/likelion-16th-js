<!DOCTYPE html>
<html lang="ko-KR">

  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="ë¹ŒíŠ¸ì¸ ì»¤ìŠ¤í…€ ì†ì„± ì‹¤ìŠµ ë¬¸ì œ" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì†ì„± ì„¤ì •, ì½ê¸°, ì œê±° ì‹¤ìŠµ</title>
    <style>
      .sr-only {
        overflow: hidden;
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        clip-path: circle(0);
        width: 1px;
        height: 1px;
        margin: -1px;
        white-space: nowrap;
}
      .product {
        border: 1px solid #ccc;
        padding: 1rem;
        margin-bottom: 1rem;
        font-size: 1rem;
      }

      .button {
        margin-right: 0.5rem;
      }
      .like-button {
	      cursor: pointer;
	      border: 1px solid #ff4757;
	      padding: 10px 15px;
	      background: #fff;
	      color: #ff4757;
	      font-size: 1rem;
	      border-radius: 5px;
	      
	      &.active ,[data-is-liked="true"] {
		      background: #ff4757;
		      color: #fff;
		    }
	    }

      
    </style>
  </head>

  <body>
    <h1 class="sr-only">ì‹¤ìŠµ ë¬¸ì œ í’€ì´</h1>
    <main>
      <div class="product" data-name="Red Sneakers" data-stock="3">
        ğŸ›ï¸ ì œí’ˆ: <span class="name">ë ˆë“œ ìŠ¤ë‹ˆì»¤ìŠ¤</span><br />
        ğŸ“¦ ì¬ê³ : <span class="stock">3</span>
      </div>
      <button type="button" class="button" id="read">ì†ì„± ì½ê¸°</button>
      <button type="button" class="button" id="update">ì¬ê³  ìˆ˜ì •</button>
      <button type="button" class="button" id="remove">ì†ì„± ì œê±°</button>

        <button type="button" class="like-button" data-is-liked="false">
            <span class="icon">â™¡</span> <span class="text">ì¢‹ì•„ìš”</span>
           </button>
    </main>

    <script>
      {
        // ë¬¸ì„œì—ì„œ ì œì–´í•  ìš”ì†Œ(ê°ì²´)ë¥¼ ì°¾ì•„ ë³€ìˆ˜ì— í• ë‹¹
        const readButton = document.getElementById('read')
        const updateButton = document.getElementById('update')
        const removeButton = document.getElementById('remove')
        const product = document.querySelector('.product')
        const productStock = product.querySelector('.stock')


        // 1. "ì†ì„± ì½ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆì˜ ì»¤ìŠ¤í…€ ì†ì„±ì„ ì½ì–´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤. (`getAttribute` í™œìš©)
        readButton.addEventListener('click', () => {
          console.log('ì†ì„± ì½ê¸° : getAttribute í™œìš©')
          console.log(product.getAttribute('data-name'))  // 'Red Sneakers'
          console.log(product.getAttribute('data-stock')) // '3'
        })

        // 2. "ì†ì„± ì½ê¸°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆì˜ ì»¤ìŠ¤í…€ ì†ì„±ì„ ì½ì–´ ì½˜ì†” íŒ¨ë„ì— ì¶œë ¥í•©ë‹ˆë‹¤. (`dataset` í™œìš©)
        readButton.addEventListener('click', () => {
          console.log('ì†ì„± ì½ê¸° : dataset í™œìš©')
          console.log(product.dataset.name)  // 'Red Sneakers'
          console.log(product.dataset.stock) // '3'
        })
        
        // 3. "ì¬ê³  ìˆ˜ì •" ë²„íŠ¼ í´ë¦­ ì‹œ, í˜„ì¬ ì¬ê³  ê°’ì— 2ë¥¼ ë”í•œ ê°’ìœ¼ë¡œ ì„¤ì •í•˜ê³  "ğŸ“¦Â ì¬ê³ : 5"ë¡œ í™”ë©´ì— ë°˜ì˜í•©ë‹ˆë‹¤.
        updateButton.addEventListener('click', () => {
          console.log('ì¬ê³  ìˆ˜ì •')
          const currentStock = Number(product.dataset.stock)
          // console.log(currentStock, typeof currentStock)
          const nextStock = currentStock + 2
          // console.log(nextStock)
          // productStock.textContent = String(nextStock)
          // productStock.textContent = nextStock.toString()
          // productStock.textContent = nextStock + ''
          productStock.textContent = nextStock

          // ìƒí’ˆì˜ ì¬ê³  ë°ì´í„°(data-stock) ì •ë³´ ì—…ë°ì´íŠ¸
          // ì´ìœ : ë‹¤ìŒ ì—°ì‚°(ê³„ì‚°)ì„ ìœ„í•´
          product.dataset.stock = nextStock
        })
        
        // 4. "ì†ì„± ì œê±°" ë²„íŠ¼ í´ë¦­ ì‹œ, ì œí’ˆ `data-stock` ì†ì„±ì„ ì œê±°í•˜ê³ , "ğŸ“¦Â ì¬ê³ : ì—†ìŒ"ìœ¼ë¡œ í™”ë©´ì— ë°˜ì˜í•©ë‹ˆë‹¤.
        removeButton.addEventListener('click', () => {
          console.log('ì†ì„± ì œê±°')
          // 1. ì œí’ˆ `data-stock` ì†ì„±ì„ ì œê±°
          delete product.dataset.stock
          // 2. "ğŸ“¦Â ì¬ê³ : ì—†ìŒ"ìœ¼ë¡œ í™”ë©´ ì—…ë°ì´íŠ¸
          productStock.textContent = 'ì—†ìŒ'
        })

      }

      {//1. `.like-button`ì„ í´ë¦­í•˜ë©´ í˜„ì¬ì˜ `data-is-liked` ì†ì„±ê°’ì„ í™•ì¸í•©ë‹ˆë‹¤. (`dataset` ì‚¬ìš©)
        const likeButton = document.querySelector('.like-button')
        
        //2. `'false'`ë¼ë©´ `'true'`ë¡œ, `'true'`ë¼ë©´ `'false'`ë¡œ ìƒíƒœë¥¼ í† ê¸€ì‹œí‚µë‹ˆë‹¤.
        likeButton.addEventListener(('click'),() =>{
          let currentValue = likeButton.dataset.isLiked
          const icon = document.querySelector('.icon')
          const like = document.querySelector('.text')
          likeButton.classList.toggle('active')
          if(currentValue === 'false'){
            //3. ìƒíƒœê°€ `'true'`ì¼ ë•Œ â†’ ì•„ì´ì½˜ì„ "â™¥"ë¡œ, í…ìŠ¤íŠ¸ë¥¼ "`ì¢‹ì•„ìš” ì·¨ì†Œ`"ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
            likeButton.dataset.isLiked = 'true' // ë³€ìˆ˜ë¥¼ ë„£ë©´ ì•ˆë˜ëŠ” ì´ìœ : ë³€ìˆ˜ì˜ ë…¼ë¦¬ê°’ì— ë‹¤ì‹œ ì¬í• ë‹¹í•˜ëŠ” ê²ƒì´ê¸°ë•Œë¬¸ì— ì†ì„± ì´ë¦„ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ì„œ ì•ˆë¨.
            icon.textContent ='â™¥'
            like.textContent ='ì¢‹ì•„ìš” ì·¨ì†Œ'

            
          }else {
            //4. ìƒíƒœê°€ `'false'`ì¼ ë•Œ â†’ ì•„ì´ì½˜ì„ "â™¡"ë¡œ, í…ìŠ¤íŠ¸ë¥¼ "`ì¢‹ì•„ìš”`"ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
           likeButton.dataset.isLiked = 'false'
           icon.textContent ='â™¡'
           like.textContent = 'ì¢‹ì•„ìš”'
          }

          
        })

  
      }
    </script>

  </body>

</html>