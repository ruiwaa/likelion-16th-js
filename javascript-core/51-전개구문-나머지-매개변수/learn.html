<!doctype html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <title>함수 마스터: 전개 구문 & 나머지 매개변수</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="전개 구문 & 나머지 매개변수" />
    <link rel="stylesheet" href="./assets/styles.css" />
    <script src="./learn.js" defer></script>
  </head>

  <body>
    <a href="#main-content" class="sr-only focusable">본문 바로가기</a>

    <main id="main-content" class="prose">
      <header>
        <h1>모으고 펼치기! Spread & Rest</h1>
        <p>
          점 세 개(<code>...</code>)의 마법! 상황에 따라
          <strong>펼치고(Spread)</strong> 혹은
          <strong>주워 담는(Rest)</strong> 유연한 코드 작성법을 배웁니다.
        </p>
      </header>

      <section>
        <h2>전개 구문 vs 나머지 매개변수</h2>

        <table>
          <caption>
            문법 위치와 역할에 따른 구분
          </caption>
          <thead>
            <tr>
              <th scope="col">구분</th>
              <th scope="col">전개 구문 (Spread)</th>
              <th scope="col">나머지 매개변수 (Rest)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">핵심 역할</th>
              <td>뭉쳐있는 것을 <strong>펼침</strong> (One → Many)</td>
              <td>흩어져 있는 것을 <strong>모음</strong> (Many → One)</td>
            </tr>
            <tr>
              <th scope="row">사용 위치</th>
              <td>함수 호출 시, 배열/객체 리터럴 내부</td>
              <td>함수 정의 시 매개변수, 구조 분해 할당 좌항</td>
            </tr>
            <tr>
              <th scope="row">주요 사례</th>
              <td>배열 합치기, 객체 복사(불변성 유지)</td>
              <td>가변 인자 함수 만들기, 특정 속성 제외하기</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2>학습 포인트</h2>
        <ul>
          <li>
            <strong>불변성(Immutability):</strong> 전개 구문을 쓰면 원본을
            건드리지 않고 새로운 복사본을 만들기 쉬워집니다.
          </li>
          <li>
            <strong>유연한 함수:</strong> 나머지 매개변수를 쓰면 인수가 몇 개가
            들어오든 배열로 안전하게 처리할 수 있습니다.
          </li>
          <li>
            <strong>가독성:</strong> <code>.concat()</code>이나
            <code>Array.from()</code>보다 훨씬 직관적인 코드를 작성할 수
            있습니다.
          </li>
        </ul>
      </section>

      <section>
        <h2>요약</h2>
        <p>
          할당 연산자(<code>=</code>)를 기준으로
          <strong>오른쪽(우항)</strong>에서 펼치면 <strong>Spread</strong>,
          <strong>왼쪽(좌항)</strong>이나 매개변수 자리에서 담으면
          <strong>Rest</strong>입니다. 이 두 문법을 자유자재로 다루면 복잡한
          데이터 가공도 한 줄의 코드로 우아하게 해결할 수 있습니다!
        </p>
      </section>
      <div id="practice1">
        <div>
          <label for="array1">배열1</label>
          <input id="array1" type="text" placeholder="예) 1,2,3" />
        </div>
        <div>
          <label for="array2">배열2</label>
          <input id="array2" type="text" placeholder="예) 4,5,6" />
        </div>
        <button type="button" id="btn-merge">병합</button>
        <output id="output1">{병합된 배열}</output>
      </div>

      <div id="practice2">
        <div>
          <label for="names">이름</label>
          <input id="names" type="text" placeholder="예) 강희,우진,하민" />
        </div>
        <button type="button" id="btn-print">출력</button>
      </div>

      <div id="practice3">
        <div>
          <label for="name">이름</label>
          <input id="name" type="text" placeholder="박한울" />
        </div>
        <div>
          <label for="email">이메일</label>
          <input id="email" type="email" placeholder="user@company.io" />
        </div>
        <button type="button" id="btn-create">생성</button>
        <output id="output3"></output>
      </div>
    </main>
    <script>
      const input1 = document.querySelector("#array1");
      const input2 = document.querySelector("#array2");
      const btnMerge = document.querySelector("#btn-merge");
      const output1 = document.querySelector("#output1");

      btnMerge.addEventListener("click", () => {
        // 1. 각 입력값을 배열로 변환 (쉼표 기준 분리)
        const arr1 = input1.value.split(",");
        const arr2 = input2.value.split(",");

        // 2. 전개 구문을 사용하여 두 배열 병합
        const mergedArray = [...arr1, ...arr2];

        // 3. 화면 출력
        output1.textContent = JSON.stringify(mergedArray);
      });

      const nameInput = document.querySelector("#names");
      const btnPrint = document.querySelector("#btn-print");

      // 1. 나머지 매개변수를 사용하는 함수 정의
      function printNames(...names) {
        // 배열 메서드(forEach 등)를 사용하여 이름 출력
        console.log("전달된 이름 목록:", names);
      }

      btnPrint.addEventListener("click", () => {
        const nameString = nameInput.value;
        const nameArray = nameString.split(","); // ['강희', '우진', '하민']

        // 2. 전개 구문을 사용하여 함수 호출
        printNames(...nameArray);
      });

      const nameField = document.querySelector("#name");
      const emailField = document.querySelector("#email");
      const btnCreate = document.querySelector("#btn-create");
      const output3 = document.querySelector("#output3");

      const defaultUser = { role: "게스트", active: false };

      btnCreate.addEventListener("click", () => {
        // 1. 입력값 수집
        const userInput = {
          name: nameField.value,
          email: emailField.value,
        };

        // 2. 객체 병합 (기본 객체 + 입력 객체)
        const mergedUser = { role: "게스트", active: false, ...userInput };

        // 3. 화면 출력 (객체를 문자열로 변환)
        output3.textContent = JSON.stringify(mergedUser, null, 2);
      });
    </script>
  </body>
</html>
