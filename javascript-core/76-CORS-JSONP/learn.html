<!DOCTYPE html>
<html lang="ko-KR">

  <head>
    <meta charset="UTF-8" />
    <title>CORS í•µì‹¬ ì •ë¦¬</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        font-family: -apple-system, sans-serif;
        line-height: 1.6;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        color: #333;
      }

      h1 {
        border-bottom: 2px solid #eee;
        padding-bottom: 10px;
      }

      h2 {
        margin-top: 30px;
        color: #0056b3;
      }

      code {
        background: #f4f4f4;
        padding: 2px 5px;
        border-radius: 4px;
        font-family: monospace;
        color: #c7254e;
      }

      .card {
        background: #f8f9fa;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
      }

      .btn {
        background: #228be6;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 1rem;
      }

      .btn:hover {
        background: #1c7ed6;
      }

      .result-box {
        margin-top: 15px;
        padding: 10px;
        background: #fff;
        border: 1px solid #eee;
        min-height: 50px;
        font-size: 0.9rem;
        white-space: pre-wrap;
        word-break: break-all;
      }

      .img-list img {
        height: 80px;
        margin-right: 5px;
        border-radius: 4px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
      }

      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
        font-size: 0.9rem;
      }

      th {
        background-color: #f1f3f5;
      }
    </style>
    <script src="./src/learn.js" type="module"></script>
  </head>

  <body>

    <main class="prose">
      <h1>CORS & ìš°íšŒ ê¸°ë²• í•µì‹¬ ì •ë¦¬</h1>

      <section>
        <h2>CORSë€?</h2>
        <p><strong>CORS(Cross-Origin Resource Sharing)</strong>ëŠ” ë¸Œë¼ìš°ì €ê°€ ë‹¤ë¥¸ ì¶œì²˜(Origin)ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ë¡œë“œí•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•˜ëŠ” ë³´ì•ˆ ì²´ê³„ì…ë‹ˆë‹¤.</p>
        <ul>
          <li><strong>ë™ì¼ ì¶œì²˜(Same Origin):</strong> <code>í”„ë¡œí† ì½œ</code> + <code>í˜¸ìŠ¤íŠ¸</code> + <code>í¬íŠ¸</code>ê°€ ëª¨ë‘ ê°™ì€ ê²½ìš°.</li>
          <li><strong>ë¬¸ì œ ìƒí™©:</strong> ê¸°ë³¸ì ìœ¼ë¡œ ë¸Œë¼ìš°ì €ëŠ” ë³´ì•ˆì„ ìœ„í•´ ë‹¤ë¥¸ ì¶œì²˜ì˜ API ìš”ì²­ì„ ì°¨ë‹¨í•©ë‹ˆë‹¤.</li>
          <li><strong>í•´ê²°ì±…:</strong> ì„œë²„ê°€ <code>Access-Control-Allow-Origin</code> í—¤ë”ë¥¼ ë‚´ë ¤ì£¼ê±°ë‚˜, í´ë¼ì´ì–¸íŠ¸ê°€ ìš°íšŒí•´ì•¼ í•©ë‹ˆë‹¤.</li>
        </ul>
      </section>

      <section>
        <h2>ìš°íšŒ ë°©ë²• A: JSONP</h2>
        <p><code>&lt;script&gt;</code> íƒœê·¸ëŠ” ì¶œì²˜ ì œì•½ì„ ë°›ì§€ ì•ŠëŠ” ì ì„ ì´ìš©í•©ë‹ˆë‹¤. (GET ìš”ì²­ë§Œ ê°€ëŠ¥)</p>

        <div class="card">
          <h3>ì‹¤ìŠµ: Flickr ì‚¬ì§„ (JSONP)</h3>
          <p>API ì£¼ì†Œ ë’¤ì— <code>?callback=í•¨ìˆ˜ëª…</code>ì„ ë¶™ì—¬ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¡œë“œí•©ë‹ˆë‹¤.</p>
          <button class="btn" onclick="runJsonp()">ê³ ì–‘ì´ ì‚¬ì§„ ê°€ì ¸ì˜¤ê¸°</button>
          <div id="jsonp-result" class="result-box img-list">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        </div>
      </section>

      <section>
        <h2>ìš°íšŒ ë°©ë²• B: Proxy ì„œë²„</h2>
        <p>ì¤‘ê³„ ì„œë²„(Proxy)ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì—¬ CORS ì •ì±…ì„ íšŒí”¼í•©ë‹ˆë‹¤. (ê°€ì¥ ê¶Œì¥ë¨)</p>

        <div class="card">
          <h3>ğŸ“° ì‹¤ìŠµ: NYT ë‰´ìŠ¤ í”¼ë“œ (Proxy)</h3>
          <p><code>corsproxy.io</code> ì„œë¹„ìŠ¤ë¥¼ ê²½ìœ í•˜ì—¬ RSS(XML) ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</p>
          <button class="btn" onclick="runProxy()">ë‰´ìŠ¤ í”¼ë“œ ê°€ì ¸ì˜¤ê¸°</button>
          <div id="proxy-result" class="result-box">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
        </div>
      </section>

      <section>
        <h2>ìš”ì•½ ë¹„êµ</h2>
        <table>
          <tr>
            <th>êµ¬ë¶„</th>
            <th>JSONP</th>
            <th>Proxy (CORS)</th>
          </tr>
          <tr>
            <td><strong>ë°©ì‹</strong></td>
            <td><code>&lt;script&gt;</code> íƒœê·¸ í•´í‚¹</td>
            <td>ì¤‘ê³„ ì„œë²„ ì‚¬ìš©</td>
          </tr>
          <tr>
            <td><strong>ì œì•½</strong></td>
            <td>GET ë©”ì„œë“œë§Œ ê°€ëŠ¥</td>
            <td>ëª¨ë“  ë©”ì„œë“œ ê°€ëŠ¥</td>
          </tr>
          <tr>
            <td><strong>ê¶Œì¥</strong></td>
            <td>âŒ (ë ˆê±°ì‹œ, ë³´ì•ˆ ì·¨ì•½)</td>
            <td>âœ… (í˜„ëŒ€ì  ë°©ë²•)</td>
          </tr>
        </table>
      </section>
    </main>

  </body>

</html>